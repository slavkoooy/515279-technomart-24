let feedbackPopup=document.querySelector(".feedback-popup-container");if(feedbackPopup){let a=feedbackPopup.querySelector(".feedback-popup"),b=document.querySelector(".contacts-button"),c=feedbackPopup.querySelector(".button-close"),d=feedbackPopup.querySelector("[name = username]"),e=feedbackPopup.querySelector("[name = email]"),f=!0,g="";try{g=localStorage.getItem("username")}catch(a){f=!1}b.addEventListener("click",function(a){a.preventDefault(),feedbackPopup.classList.add("popup-show"),g?(d.value=g,e.focus()):d.focus()}),c.addEventListener("click",function(a){a.preventDefault(),feedbackPopup.classList.remove("popup-show"),feedbackPopup.classList.remove("popup-error")}),window.addEventListener("keydown",function(a){27===a.keyCode&&feedbackPopup.classList.contains("popup-show")&&(a.preventDefault(),feedbackPopup.classList.remove("popup-show"))}),a.addEventListener("submit",function(a){d.value&&e.value?f&&localStorage.setItem("username",d.value):(a.preventDefault(),feedbackPopup.classList.contains("popup-error")&&feedbackPopup.classList.remove("popup-error"),feedbackPopup.classList.add("popup-error"))})}let mapPopup=document.querySelector(".map-popup-container");if(mapPopup){let a=document.querySelector(".map-button"),b=mapPopup.querySelector(".button-close");a.addEventListener("click",function(a){a.preventDefault(),mapPopup.classList.add("popup-show")}),b.addEventListener("click",function(a){a.preventDefault(),mapPopup.classList.remove("popup-show")})}window.addEventListener("keydown",function(a){27===a.keyCode&&mapPopup.classList.contains("popup-show")&&(a.preventDefault(),mapPopup.classList.remove("popup-show"))});let addItemPopup=document.querySelector(".add-item-popup"),basketButton=document.querySelector(".header-basket"),basketCount=document.querySelector(".basket-count"),addItemShowButton=document.querySelectorAll(".buy-item-button"),addItemCloseButton=addItemPopup.querySelector(".button-close"),continueShoppingButton=addItemPopup.querySelector(".button-continue");for(let a=0;a<addItemShowButton.length;a++)addItemShowButton[a].addEventListener("click",function(a){a.preventDefault(),addItemPopup.classList.add("popup-show"),addItemPopup.querySelector(".button-checkout").focus(),basketButton.classList.add("header-basket-full"),basketCount.textContent++});addItemCloseButton.addEventListener("click",function(a){a.preventDefault(),addItemPopup.classList.remove("popup-show")}),continueShoppingButton.addEventListener("click",function(a){a.preventDefault(),addItemPopup.classList.remove("popup-show")}),window.addEventListener("keydown",function(a){27===a.keyCode&&addItemPopup.classList.contains("popup-show")&&(a.preventDefault(),addItemPopup.classList.remove("popup-show"))});
